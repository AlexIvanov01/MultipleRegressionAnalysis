å$
BC:\–ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ\C#\VVPS_project\src\RegressionModel.cs
	namespace 	
VVPS_project
 
. 
src 
{ 
public 

class 
RegressionModel  
{ 
private 
Matrix 
_augmentedMatrix '
;' (
private 
double 
[ 
] 
_coefficients &
;& '
public		 
Matrix		 
AugmentedMatrix		 %
{

 	
get 
{ 
return 
_augmentedMatrix )
;) *
}+ ,
set 
{ 
_augmentedMatrix "
=# $
value% *
;* +
}, -
} 	
public 
double 
[ 
] 
Coefficients $
{ 	
get 
{ 
return 
_coefficients &
;& '
}( )
set 
{ 
_coefficients 
=  !
value" '
;' (
}) *
} 	
public 
RegressionModel 
( 
Matrix %
inputMatrix& 1
,1 2
int3 6
variableCount7 D
)D E
{ 	
_augmentedMatrix 
= 
inputMatrix *
;* +
_coefficients 
= 
new 
double  &
[& '
inputMatrix' 2
.2 3
Rows3 7
]7 8
;8 9
CheckValidRequest 
( 
variableCount +
)+ ,
;, -
} 	
public 
void 
Execute 
( 
) 
{ 	
Console 
. 
	WriteLine 
( 
$str 2
)2 3
;3 4
AugmentedMatrix 
. 
PrintMatrix '
(' (
)( )
;) *
Console   
.   
	WriteLine   
(   
$str   ?
)  ? @
;  @ A
AugmentedMatrix"" 
."" $
AddFirstColumnWithValue1"" 4
(""4 5
)""5 6
;""6 7
Matrix$$ 
matrix$$ 
=$$ 
new$$ 
Matrix$$  &
($$& '
AugmentedMatrix$$' 6
.$$6 7
	DataArray$$7 @
)$$@ A
;$$A B
AugmentedMatrix&& 
.&& 
	Transpose&& %
(&&% &
)&&& '
;&&' (
AugmentedMatrix(( 
.(( 
Multiply(( $
((($ %
matrix((% +
)((+ ,
;((, -
AugmentedMatrix,, 
.,, 
RemoveLastRow,, )
(,,) *
),,* +
;,,+ ,
Coefficients.. 
=.. 
AugmentedMatrix.. *
...* +"
UseGaussianElemination..+ A
(..A B
)..B C
;..C D
}// 	
public11 
void11 
PrintResult11 
(11  
)11  !
{22 	
Console33 
.33 
	WriteLine33 
(33 
$str33 /
)33/ 0
;330 1
for44 
(44 
int44 
i44 
=44 
$num44 
;44 
i44 
<44 
Coefficients44  ,
.44, -
Length44- 3
;443 4
i445 6
++446 8
)448 9
{55 
Console66 
.66 
	WriteLine66 !
(66! "
$"66" $
$str66$ %
{66% &
i66& '
}66' (
$str66( +
{66+ ,
(66, -
Coefficients66- 9
[669 :
i66: ;
]66; <
)66< =
}66= >
"66> ?
)66? @
;66@ A
}77 
Console88 
.88 
	WriteLine88 
(88 
$str88 ?
)88? @
;88@ A
}99 	
public;; 
void;; 
CheckValidRequest;; %
(;;% &
int;;& )
variableCount;;* 7
);;7 8
{<< 	
if== 
(== 
variableCount== 
!===  
AugmentedMatrix==! 0
.==0 1
Columns==1 8
-==9 :
$num==; <
)==< =
throw>> 
new>> %
InvalidOperationException>> 3
(>>3 4
$str>>4 H
+>>I J
$str?? =
)??= >
;??> ?
}@@ 	
}AA 
}BB √
:C:\–ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ\C#\VVPS_project\src\Program.cs
	namespace 	
VVPS_project
 
. 
src 
{ 
static 

class 
Program 
{ 
static 
void 
Main 
( 
) 
{ 	
while 
( 
true 
) 
{		 
try

 
{ 
Console 
. 
	WriteLine %
(% &
$str& R
)R S
;S T
int 
variableCount %
=& '
Convert( /
./ 0
ToInt320 7
(7 8
Console8 ?
.? @
ReadLine@ H
(H I
)I J
)J K
;K L
if 
( 
variableCount %
==& (
$num) *
)* +
break, 1
;1 2
Console 
. 
	WriteLine %
(% &
$str& I
)I J
;J K
string 
filePath #
=$ %
Console& -
.- .
ReadLine. 6
(6 7
)7 8
??9 ;
String< B
.B C
EmptyC H
;H I
Matrix 
InputMatrix &
=' (
new) ,
Matrix- 3
(3 4

DataReader4 >
.> ?
ReadCSVToMatrix? N
(N O
	@filePathO X
)X Y
)Y Z
;Z [
RegressionModel #
regressionModel$ 3
=4 5
new6 9
RegressionModel: I
(I J
InputMatrixJ U
,U V
variableCountW d
)d e
;e f
regressionModel #
.# $
Execute$ +
(+ ,
), -
;- .
regressionModel #
.# $
PrintResult$ /
(/ 0
)0 1
;1 2
} 
catch 
( 
	Exception  
ex! #
)# $
{ 
Console 
. 
	WriteLine %
(% &
ex& (
.( )
Message) 0
)0 1
;1 2
} 
}   
}!! 	
}"" 
}## –ë
9C:\–ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ\C#\VVPS_project\src\Matrix.cs
	namespace 	
VVPS_project
 
. 
src 
{ 
public 

class 
Matrix 
{ 
private 
double 
[ 
, 
] 

_dataArray $
;$ %
private 
int 
_columns 
; 
private 
int 
_rows 
; 
public

 
double

 
[

 
,

 
]

 
	DataArray

 "
{ 	
get 
{ 
return 

_dataArray #
;# $
}% &
set 
{ 

_dataArray 
= 
value "
;" #
_rows 
= 
value 
. 
	GetLength '
(' (
$num( )
)) *
;* +
_columns 
= 
value  
.  !
	GetLength! *
(* +
$num+ ,
), -
;- .
} 
} 	
public 
int 
Columns 
{ 	
get 
{ 
return 
_columns !
;! "
}# $
set 
{ 
_columns 
= 
value "
;" #
}$ %
} 	
public 
int 
Rows 
{ 	
get 
{ 
return 
_rows 
; 
}  !
set 
{ 
_rows 
= 
value 
;  
}! "
} 	
public!! 
Matrix!! 
(!! 
double!! 
[!! 
,!! 
]!! 
data!!  $
)!!$ %
{"" 	
	DataArray## 
=## 
data## 
;## 
if$$ 
($$ 
_rows$$ 
==$$ 
$num$$ 
||$$ 
_columns$$ &
==$$' )
$num$$* +
)$$+ ,
{%% 
throw&& 
new&& 
ArgumentException&& +
(&&+ ,
$str&&, C
)&&C D
;&&D E
}'' 
}(( 	
public,, 
void,, 
	Transpose,, 
(,, 
),, 
{-- 	
double.. 
[.. 
,.. 
].. 

transposed..  
=..! "
new..# &
double..' -
[..- .
_columns... 6
,..6 7
_rows..8 =
]..= >
;..> ?
for00 
(00 
int00 
i00 
=00 
$num00 
;00 
i00 
<00 
_rows00  %
;00% &
i00' (
++00( *
)00* +
{11 
for22 
(22 
int22 
j22 
=22 
$num22 
;22 
j22  !
<22" #
_columns22$ ,
;22, -
j22. /
++22/ 1
)221 2
{33 

transposed44 
[44 
j44  
,44  !
i44" #
]44# $
=44% &

_dataArray44' 1
[441 2
i442 3
,443 4
j445 6
]446 7
;447 8
}55 
}66 
	DataArray77 
=77 

transposed77 "
;77" #
}88 	
public<< 
void<< 
Multiply<< 
(<< 
Matrix<< #
other<<$ )
)<<) *
{== 	
if>> 
(>> 
_columns>> 
!=>> 
other>> !
.>>! "
Rows>>" &
)>>& '
{?? 
throw@@ 
new@@ 
ArgumentException@@ +
(@@+ ,
$str@@, F
+@@G H
$strAA G
+AAH I
$strBB ,
)BB, -
;BB- .
}CC 
doubleEE 
[EE 
,EE 
]EE 
resultEE 
=EE 
newEE "
doubleEE# )
[EE) *
_rowsEE* /
,EE/ 0
otherEE1 6
.EE6 7
ColumnsEE7 >
]EE> ?
;EE? @
forFF 
(FF 
intFF 
iFF 
=FF 
$numFF 
;FF 
iFF 
<FF 
_rowsFF  %
;FF% &
iFF' (
++FF( *
)FF* +
{GG 
forHH 
(HH 
intHH 
jHH 
=HH 
$numHH 
;HH 
jHH  !
<HH" #
otherHH$ )
.HH) *
ColumnsHH* 1
;HH1 2
jHH3 4
++HH4 6
)HH6 7
{II 
doubleJJ 
sumJJ 
=JJ  
$numJJ! "
;JJ" #
forKK 
(KK 
intKK 
kKK 
=KK  
$numKK! "
;KK" #
kKK$ %
<KK& '
_columnsKK( 0
;KK0 1
kKK2 3
++KK3 5
)KK5 6
{LL 
sumMM 
+=MM 

_dataArrayMM )
[MM) *
iMM* +
,MM+ ,
kMM- .
]MM. /
*MM0 1
otherMM2 7
.MM7 8
	DataArrayMM8 A
[MMA B
kMMB C
,MMC D
jMME F
]MMF G
;MMG H
}NN 
resultOO 
[OO 
iOO 
,OO 
jOO 
]OO  
=OO! "
MathOO# '
.OO' (
RoundOO( -
(OO- .
sumOO. 1
,OO1 2
$numOO2 3
)OO3 4
;OO4 5
}PP 
}QQ 
	DataArrayRR 
=RR 
resultRR 
;RR 
}SS 	
publicUU 
voidUU $
AddFirstColumnWithValue1UU ,
(UU, -
)UU- .
{VV 	
doubleWW 
[WW 
,WW 
]WW 
modifiedMatrixWW $
=WW% &
newWW' *
doubleWW+ 1
[WW1 2
_rowsWW2 7
,WW7 8
_columnsWW9 A
+WWB C
$numWWD E
]WWE F
;WWF G
forZZ 
(ZZ 
intZZ 
iZZ 
=ZZ 
$numZZ 
;ZZ 
iZZ 
<ZZ 
_rowsZZ  %
;ZZ% &
iZZ' (
++ZZ( *
)ZZ* +
{[[ 
modifiedMatrix\\ 
[\\ 
i\\  
,\\  !
$num\\" #
]\\# $
=\\% &
$num\\' (
;\\( )
}]] 
for`` 
(`` 
int`` 
i`` 
=`` 
$num`` 
;`` 
i`` 
<`` 
_rows``  %
;``% &
i``' (
++``( *
)``* +
{aa 
forbb 
(bb 
intbb 
jbb 
=bb 
$numbb 
;bb 
jbb  !
<bb" #
_columnsbb$ ,
;bb, -
jbb. /
++bb/ 1
)bb1 2
{cc 
modifiedMatrixdd "
[dd" #
idd# $
,dd$ %
jdd& '
+dd( )
$numdd* +
]dd+ ,
=dd- .

_dataArraydd/ 9
[dd9 :
idd: ;
,dd; <
jdd= >
]dd> ?
;dd? @
}ee 
}ff 
	DataArraygg 
=gg 
modifiedMatrixgg &
;gg& '
}hh 	
publicjj 
voidjj 
RemoveLastRowjj !
(jj! "
)jj" #
{kk 	
doublell 
[ll 
,ll 
]ll 
modifiedMatrixll $
=ll% &
newll' *
doublell+ 1
[ll1 2
_rowsll2 7
-ll8 9
$numll: ;
,ll; <
_columnsll= E
]llE F
;llF G
foroo 
(oo 
intoo 
ioo 
=oo 
$numoo 
;oo 
ioo 
<oo 
_rowsoo  %
-oo& '
$numoo( )
;oo) *
ioo+ ,
++oo, .
)oo. /
{pp 
forqq 
(qq 
intqq 
jqq 
=qq 
$numqq 
;qq 
jqq  !
<qq" #
_columnsqq$ ,
;qq, -
jqq. /
++qq/ 1
)qq1 2
{rr 
modifiedMatrixss "
[ss" #
iss# $
,ss$ %
jss& '
]ss' (
=ss) *

_dataArrayss+ 5
[ss5 6
iss6 7
,ss7 8
jss9 :
]ss: ;
;ss; <
}tt 
}uu 
	DataArrayvv 
=vv 
modifiedMatrixvv &
;vv& '
}ww 	
public|| 
double|| 
[|| 
]|| "
UseGaussianElemination|| .
(||. /
)||/ 0
{}} 	
Console~~ 
.~~ 
	WriteLine~~ 
(~~ 
$str~~ H
)~~H I
;~~I J
PrintMatrix 
( 
) 
; 
Console
ÄÄ 
.
ÄÄ 
	WriteLine
ÄÄ 
(
ÄÄ 
$str
ÄÄ ?
)
ÄÄ? @
;
ÄÄ@ A
CheckForZeroRows
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ 
if
ÜÜ 
(
ÜÜ 
_rows
ÜÜ 
>
ÜÜ 
_columns
ÜÜ  
-
ÜÜ! "
$num
ÜÜ# $
)
ÜÜ$ %
{
áá 
throw
àà 
new
àà '
InvalidOperationException
àà 3
(
àà3 4
$str
àà4 I
+
ààJ K
$str
ââ D
)
ââD E
;
ââE F
}
ää 
for
çç 
(
çç 
int
çç 
i
çç 
=
çç 
$num
çç 
;
çç 
i
çç 
<
çç 
_rows
çç  %
-
çç& '
$num
çç( )
;
çç) *
i
çç+ ,
++
çç, .
)
çç. /
{
éé 
int
ëë 
maxRow
ëë 
=
ëë 
i
ëë 
;
ëë 
for
íí 
(
íí 
int
íí 
k
íí 
=
íí 
i
íí 
+
íí  
$num
íí! "
;
íí" #
k
íí$ %
<
íí& '
_rows
íí( -
;
íí- .
k
íí/ 0
++
íí0 2
)
íí2 3
{
ìì 
if
îî 
(
îî 
Math
îî 
.
îî 
Abs
îî  
(
îî  !

_dataArray
îî! +
[
îî+ ,
k
îî, -
,
îî- .
i
îî/ 0
]
îî0 1
)
îî1 2
>
îî3 4
Math
îî5 9
.
îî9 :
Abs
îî: =
(
îî= >

_dataArray
îî> H
[
îîH I
maxRow
îîI O
,
îîO P
i
îîQ R
]
îîR S
)
îîS T
)
îîT U
{
ïï 
maxRow
ññ 
=
ññ  
k
ññ! "
;
ññ" #
}
óó 
}
òò 
if
õõ 
(
õõ 
maxRow
õõ 
!=
õõ 
i
õõ 
)
õõ  
{
úú 
for
ùù 
(
ùù 
int
ùù 
j
ùù 
=
ùù  
$num
ùù! "
;
ùù" #
j
ùù$ %
<
ùù& '
_columns
ùù( 0
;
ùù0 1
j
ùù2 3
++
ùù3 5
)
ùù5 6
{
ûû 
(
üü 

_dataArray
üü #
[
üü# $
maxRow
üü$ *
,
üü* +
j
üü, -
]
üü- .
,
üü. /

_dataArray
üü0 :
[
üü: ;
i
üü; <
,
üü< =
j
üü> ?
]
üü? @
)
üü@ A
=
üüB C
(
†† 

_dataArray
†† #
[
††# $
i
††$ %
,
††% &
j
††' (
]
††( )
,
††) *

_dataArray
††+ 5
[
††5 6
maxRow
††6 <
,
††< =
j
††> ?
]
††? @
)
††@ A
;
††A B
}
°° 
}
¢¢ 
for
ßß 
(
ßß 
int
ßß 
k
ßß 
=
ßß 
i
ßß 
+
ßß  
$num
ßß! "
;
ßß" #
k
ßß$ %
<
ßß& '
_rows
ßß( -
;
ßß- .
k
ßß/ 0
++
ßß0 2
)
ßß2 3
{
®® 
double
©© 
factor
©© !
=
©©" #

_dataArray
©©$ .
[
©©. /
k
©©/ 0
,
©©0 1
i
©©2 3
]
©©3 4
/
©©5 6

_dataArray
©©7 A
[
©©A B
i
©©B C
,
©©C D
i
©©E F
]
©©F G
;
©©G H
for
™™ 
(
™™ 
int
™™ 
j
™™ 
=
™™  
i
™™! "
;
™™" #
j
™™$ %
<
™™& '
_columns
™™( 0
;
™™0 1
j
™™2 3
++
™™3 5
)
™™5 6
{
´´ 

_dataArray
¨¨ "
[
¨¨" #
k
¨¨# $
,
¨¨$ %
j
¨¨& '
]
¨¨' (
-=
¨¨) +
factor
¨¨, 2
*
¨¨3 4

_dataArray
¨¨5 ?
[
¨¨? @
i
¨¨@ A
,
¨¨A B
j
¨¨C D
]
¨¨D E
;
¨¨E F
}
≠≠ 
}
ÆÆ 
Console
∞∞ 
.
∞∞ 
	WriteLine
∞∞ !
(
∞∞! "
$"
∞∞" $
$str
∞∞$ /
{
∞∞/ 0
i
∞∞0 1
+
∞∞1 2
$num
∞∞2 3
}
∞∞3 4
$str
∞∞4 7
"
∞∞7 8
)
∞∞8 9
;
∞∞9 :
PrintMatrix
±± 
(
±± 
)
±± 
;
±± 
Console
≤≤ 
.
≤≤ 
	WriteLine
≤≤ !
(
≤≤! "
$str
≤≤" C
)
≤≤C D
;
≤≤D E
}
≥≥ 
CheckForZeroRows
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂ 
double
ππ 
[
ππ 
]
ππ 
solution
ππ 
=
ππ 
new
ππ  #
double
ππ$ *
[
ππ* +
_rows
ππ+ 0
]
ππ0 1
;
ππ1 2
for
∫∫ 
(
∫∫ 
int
∫∫ 
i
∫∫ 
=
∫∫ 
_rows
∫∫ 
-
∫∫  
$num
∫∫! "
;
∫∫" #
i
∫∫$ %
>=
∫∫& (
$num
∫∫) *
;
∫∫* +
i
∫∫, -
--
∫∫- /
)
∫∫/ 0
{
ªª 
double
ºº 
sum
ºº 
=
ºº 
$num
ºº 
;
ºº 
for
ΩΩ 
(
ΩΩ 
int
ΩΩ 
j
ΩΩ 
=
ΩΩ 
i
ΩΩ 
+
ΩΩ  
$num
ΩΩ! "
;
ΩΩ" #
j
ΩΩ$ %
<
ΩΩ& '
_columns
ΩΩ( 0
-
ΩΩ1 2
$num
ΩΩ3 4
;
ΩΩ4 5
j
ΩΩ6 7
++
ΩΩ7 9
)
ΩΩ9 :
{
ææ 
sum
øø 
+=
øø 

_dataArray
øø %
[
øø% &
i
øø& '
,
øø' (
j
øø) *
]
øø* +
*
øø, -
solution
øø. 6
[
øø6 7
j
øø7 8
]
øø8 9
;
øø9 :
}
¿¿ 
solution
¡¡ 
[
¡¡ 
i
¡¡ 
]
¡¡ 
=
¡¡ 
(
¡¡ 

_dataArray
¡¡ )
[
¡¡) *
i
¡¡* +
,
¡¡+ ,
_columns
¡¡- 5
-
¡¡6 7
$num
¡¡8 9
]
¡¡9 :
-
¡¡; <
sum
¡¡= @
)
¡¡@ A
/
¬¬ 

_dataArray
¬¬  *
[
¬¬* +
i
¬¬+ ,
,
¬¬, -
i
¬¬. /
]
¬¬/ 0
;
¬¬0 1
}
√√ 
return
ƒƒ 
solution
ƒƒ 
;
ƒƒ 
}
≈≈ 	
public
«« 
void
«« 
PrintMatrix
«« 
(
««  
)
««  !
{
»» 	
for
…… 
(
…… 
int
…… 
i
…… 
=
…… 
$num
…… 
;
…… 
i
…… 
<
…… 
_rows
……  %
;
……% &
i
……' (
++
……( *
)
……* +
{
   
for
ÀÀ 
(
ÀÀ 
int
ÀÀ 
j
ÀÀ 
=
ÀÀ 
$num
ÀÀ 
;
ÀÀ 
j
ÀÀ  !
<
ÀÀ" #
_columns
ÀÀ$ ,
;
ÀÀ, -
j
ÀÀ. /
++
ÀÀ/ 1
)
ÀÀ1 2
{
ÃÃ 
Console
ÕÕ 
.
ÕÕ 
Write
ÕÕ !
(
ÕÕ! "

_dataArray
ÕÕ" ,
[
ÕÕ, -
i
ÕÕ- .
,
ÕÕ. /
j
ÕÕ0 1
]
ÕÕ1 2
+
ÕÕ3 4
$str
ÕÕ5 9
)
ÕÕ9 :
;
ÕÕ: ;
}
ŒŒ 
Console
œœ 
.
œœ 
	WriteLine
œœ !
(
œœ! "
)
œœ" #
;
œœ# $
}
–– 
}
—— 	
public
”” 
void
”” 
CheckForZeroRows
”” $
(
””$ %
)
””% &
{
‘‘ 	
for
’’ 
(
’’ 
int
’’ 
row
’’ 
=
’’ 
$num
’’ 
;
’’ 
row
’’ !
<
’’" #
_rows
’’$ )
;
’’) *
row
’’+ .
++
’’. 0
)
’’0 1
{
÷÷ 
bool
◊◊ 
	isZeroRow
◊◊ 
=
◊◊  
true
◊◊! %
;
◊◊% &
for
ÿÿ 
(
ÿÿ 
int
ÿÿ 
col
ÿÿ 
=
ÿÿ 
$num
ÿÿ  
;
ÿÿ  !
col
ÿÿ" %
<
ÿÿ& '
_columns
ÿÿ( 0
-
ÿÿ1 2
$num
ÿÿ3 4
;
ÿÿ4 5
col
ÿÿ6 9
++
ÿÿ9 ;
)
ÿÿ; <
{
ŸŸ 
if
⁄⁄ 
(
⁄⁄ 
Math
⁄⁄ 
.
⁄⁄ 
Abs
⁄⁄  
(
⁄⁄  !

_dataArray
⁄⁄! +
[
⁄⁄+ ,
row
⁄⁄, /
,
⁄⁄/ 0
col
⁄⁄1 4
]
⁄⁄4 5
)
⁄⁄5 6
>
⁄⁄7 8
$num
⁄⁄9 :
)
⁄⁄: ;
{
€€ 
	isZeroRow
‹‹ !
=
‹‹" #
false
‹‹$ )
;
‹‹) *
break
›› 
;
›› 
}
ﬁﬁ 
}
ﬂﬂ 
if
·· 
(
·· 
	isZeroRow
·· 
&&
··  
Math
··! %
.
··% &
Abs
··& )
(
··) *

_dataArray
··* 4
[
··4 5
row
··5 8
,
··8 9
_columns
··: B
-
··B C
$num
··C D
]
··D E
)
··E F
>
··G H
$num
··I J
)
··J K
{
‚‚ 
throw
„„ 
new
„„ '
InvalidOperationException
„„ 7
(
„„7 8
$str
„„8 D
+
„„E F
$str
‰‰ H
)
‰‰H I
;
‰‰I J
}
ÂÂ 
}
ÊÊ 
}
ÁÁ 	
}
ÈÈ 
}ÍÍ Á
=C:\–ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ\C#\VVPS_project\src\DataReader.cs
	namespace 	
VVPS_project
 
. 
src 
{ 
public 

static 
class 

DataReader "
{ 
public 
static 
double 
[ 
, 
] 
ReadCSVToMatrix  /
(/ 0
string0 6
filePath7 ?
)? @
{ 	
string		 
[		 
]		 
lines		 
=		 
File		 !
.		! "
ReadAllLines		" .
(		. /
filePath		/ 7
)		7 8
;		8 9
int 
rows 
= 
lines 
. 
Length #
;# $
int 
cols 
= 
lines 
[ 
$num 
] 
.  
Split  %
(% &
$char& )
)) *
.* +
Length+ 1
;1 2
double 
[ 
, 
] 
matrix 
= 
new "
double# )
[) *
rows* .
,. /
cols0 4
]4 5
;5 6
for 
( 
int 
i 
= 
$num 
; 
i 
< 
rows  $
;$ %
i& '
++' )
)) *
{ 
string 
[ 
] 
values 
=  !
lines" '
[' (
i( )
]) *
.* +
Split+ 0
(0 1
$char1 4
)4 5
;5 6
for 
( 
int 
j 
= 
$num 
; 
j  !
<" #
cols$ (
;( )
j* +
+++ -
)- .
{ 
if 
( 
! 
double 
.  
TryParse  (
(( )
values) /
[/ 0
j0 1
]1 2
,2 3
NumberStyles4 @
.@ A
FloatA F
,F G
CultureInfo #
.# $
InvariantCulture$ 4
,4 5
out6 9
matrix: @
[@ A
iA B
,B C
jD E
]E F
)F G
)G H
{ 
throw 
new !
FormatException" 1
(1 2
$str2 M
+N O
$" 
$str "
{" #
i# $
+% &
$num' (
}( )
$str) 2
{2 3
j3 4
+5 6
$num7 8
}8 9
$str9 F
"F G
)G H
;H I
} 
} 
} 
return 
matrix 
; 
}   	
}!! 
}"" 